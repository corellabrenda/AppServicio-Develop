<div class="mt-5">
	<!-- TÍTULO LIBRE, COMO QUIERAS -->
	<h1 mat-dialog-title *ngIf="condicion; else nombrehu">Nueva historia de usuario</h1>
	<ng-template #nombrehu>
		<h1 mat-dialog-title>HU-{{nuevaHistoria.numeroHu}}</h1>
	</ng-template>

	<mat-dialog-content> 
		<form #f="ngForm" class="example-form" (ngSubmit)="addHistoria()">
			<div *ngIf="!nuevaHistoria.terminada; else bloquea">
				<mat-form-field style="width: 30%">
					<mat-label>Número de Historia</mat-label>
					<input matInput type="number" min="1" placeholder="1" name="numeroHu" #puntosHistoria="ngModel" [(ngModel)]="nuevaHistoria.numeroHu" required>
				</mat-form-field>

				<mat-form-field class="example-full-width">
					<mat-label>Nombre</mat-label>
					<input matInput type="text"  name="nombre" #nombre="ngModel" [(ngModel)]="nuevaHistoria.nombre" required>
				</mat-form-field>

				<mat-form-field class="example-full-width">
					<mat-label>Descripcion</mat-label>
					<textarea matInput placeholder="Descripción..."  name="descripcion" #descripcion="ngModel" [(ngModel)]="nuevaHistoria.descripcion" required></textarea>
				</mat-form-field>

				<mat-form-field class="example-full-width">
					<mat-label>Hipervinculo</mat-label>
					<textarea matInput placeholder="Hipervinculo..."  name="descripcion"  #descripcion="ngModel" [(ngModel)]="nuevaHistoria.hipervinculo"  ></textarea>
				</mat-form-field>

				<mat-form-field style="width: 30%">
					<mat-label>Puntos de Historia</mat-label>
					<input matInput type="number" min="0.5" placeholder="0.5" step="0.5" name="puntosHistoria" #puntosHistoria="ngModel" [(ngModel)]="nuevaHistoria.puntosHistoria" required>
				</mat-form-field>
				
				<mat-radio-group class="example-radio-group" name="prioridad" [(ngModel)]="nuevaHistoria.prioridad" required>
					<mat-label>Prioridad</mat-label>  			
					<mat-radio-button class="example-radio-button" [value]="3">Alta</mat-radio-button>
					<mat-radio-button class="example-radio-button" [value]="2">Media</mat-radio-button>
					<mat-radio-button class="example-radio-button" [value]="1">Baja</mat-radio-button>
				</mat-radio-group>
			</div>
			
			<ng-template #bloquea>
				<div>
					<mat-form-field style="width: 30%">
						<mat-label>Número de Historia</mat-label>
						<input matInput type="number" min="1" placeholder="1" name="numeroHu" #puntosHistoria="ngModel" [(ngModel)]="nuevaHistoria.numeroHu" [disabled]="true">
					</mat-form-field>

					<mat-form-field class="example-full-width">
						<mat-label>Nombre</mat-label>
						<input matInput type="text"  name="nombre" #nombre="ngModel" [(ngModel)]="nuevaHistoria.nombre" [disabled]="true">
					</mat-form-field>

					<mat-form-field class="example-full-width">
						<mat-label>Descripcion</mat-label>
						<textarea matInput placeholder="Descripción..."  name="descripcion" #descripcion="ngModel" [(ngModel)]="nuevaHistoria.descripcion" [disabled]="true"></textarea>
					</mat-form-field>

					<mat-form-field style="width: 30%">
						<mat-label>Puntos de Historia</mat-label>
						<input matInput type="number" min="0.5" placeholder="0.5" step="0.5" name="puntosHistoria" #puntosHistoria="ngModel" [(ngModel)]="nuevaHistoria.puntosHistoria" [disabled]="true">
					</mat-form-field>
					
					<mat-radio-group class="example-radio-group" name="prioridad" [(ngModel)]="nuevaHistoria.prioridad" [disabled]="true">
						<mat-label>Prioridad</mat-label>  			
							<mat-radio-button class="example-radio-button" [value]="3">Alta</mat-radio-button>
							<mat-radio-button class="example-radio-button" [value]="2">Media</mat-radio-button>
							<mat-radio-button class="example-radio-button" [value]="1">Baja</mat-radio-button>
					</mat-radio-group>
				</div>
			</ng-template>
		</form>
	</mat-dialog-content>

	<mat-dialog-actions>
		<button class="btn btn-success" mat-button cdkFocusInitial (click)="addHistoria()" *ngIf="condicion; else actualizacion" [disabled]="f.invalid">Guardar</button>
		<ng-template #actualizacion>
			<button *ngIf="!nuevaHistoria.terminada" class="btn btn-success" mat-button cdkFocusInitial (click)="updateHistoria()" [disabled]="f.invalid">Actualizar</button>
		</ng-template>
		<button mat-button class="btn btn-dark" (click)="onNoClick()">Regresar</button><hr>
		<button class="btn btn-danger" mat-button cdkFocusInitial (click)="removeHistoria()" *ngIf="!condicion && !nuevaHistoria.terminada">Eliminar Historia</button>
	</mat-dialog-actions>
</div>
